[gd_scene load_steps=30 format=3 uid="uid://c6swx1wgxfx22"]

[ext_resource type="PackedScene" uid="uid://cenhlqtwliw4u" path="res://Prefabs/Thief/thief.tscn" id="1_5i2il"]
[ext_resource type="Material" uid="uid://lfqkse3ptsax" path="res://Shaders/Materials/house/wall.tres" id="1_emvfp"]
[ext_resource type="Texture2D" uid="uid://cr31hdlj0fbju" path="res://Textures/Thief/fabric.jpg" id="2_ra6x6"]
[ext_resource type="PackedScene" uid="uid://c3fptkfve0361" path="res://Prefabs/Furniture/window.tscn" id="2_yd3ot"]
[ext_resource type="Texture2D" uid="uid://du0s1qyux3c8i" path="res://Textures/Thief/fabric_c.jpg" id="3_h6uf0"]
[ext_resource type="Texture2D" uid="uid://peekdalaucn8" path="res://Textures/Materials/wood.jpg" id="4_fugkv"]
[ext_resource type="PackedScene" uid="uid://wwd1vnycjyx2" path="res://Prefabs/Furniture/door.tscn" id="5_t4kcf"]
[ext_resource type="PackedScene" uid="uid://dwt1d0avw10r3" path="res://Prefabs/Furniture/chandelier.tscn" id="6_o4tkm"]
[ext_resource type="PackedScene" uid="uid://da8juw4j5l1vk" path="res://Prefabs/Mimics/drawers.tscn" id="7_0i7wg"]
[ext_resource type="PackedScene" uid="uid://6vtvvfkqri1k" path="res://Prefabs/Furniture/crate.tscn" id="7_2itc8"]
[ext_resource type="PackedScene" uid="uid://p026rx4ef5oh" path="res://Prefabs/Relics/key.tscn" id="7_auxh8"]
[ext_resource type="PackedScene" uid="uid://c06xcrka08vat" path="res://Prefabs/Furniture/shelf.tscn" id="9_dmhu6"]
[ext_resource type="PackedScene" uid="uid://h68odrw8nmu" path="res://Prefabs/Mimics/chest.tscn" id="10_217ad"]
[ext_resource type="PackedScene" uid="uid://b3l7sejy6ceif" path="res://Prefabs/Relics/jewel_blue.tscn" id="12_3sfmf"]
[ext_resource type="Texture2D" uid="uid://bjhv2j0pvn78d" path="res://Textures/Materials/glass_n.jpg" id="12_dcaoy"]
[ext_resource type="PackedScene" uid="uid://bnqjibltf2k5d" path="res://Prefabs/Relics/jewel_green.tscn" id="13_g3rr2"]
[ext_resource type="PackedScene" uid="uid://cr8qg0160hn07" path="res://Prefabs/Relics/jewel_red.tscn" id="14_pavo1"]
[ext_resource type="PackedScene" uid="uid://c6h8hd4bby33l" path="res://Prefabs/Relics/revelation_eye.tscn" id="16_2krj2"]
[ext_resource type="Script" path="res://Scripts/House/Exit.cs" id="18_bjp5x"]
[ext_resource type="PackedScene" uid="uid://bsvikwrfwypav" path="res://Scenes/winnings.tscn" id="19_g7s81"]

[sub_resource type="Environment" id="Environment_ekfaw"]
ambient_light_source = 2
ambient_light_color = Color(0.537255, 0.858824, 1, 1)
ambient_light_energy = 0.1
ssao_enabled = true
glow_enabled = true
fog_enabled = true
fog_light_color = Color(0.203922, 0.478431, 0.470588, 1)
fog_light_energy = 0.0
fog_density = 0.02
volumetric_fog_enabled = true
volumetric_fog_density = 0.0
adjustment_enabled = true
adjustment_brightness = 1.06
adjustment_contrast = 1.12
adjustment_saturation = 1.21

[sub_resource type="FogMaterial" id="FogMaterial_ewdhq"]
density = 5.0
albedo = Color(0, 0, 0, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_on53v"]
agent_radius = 1.2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cxkvq"]
albedo_color = Color(0.713726, 0.184314, 0.129412, 1)
albedo_texture = ExtResource("2_ra6x6")
metallic_specular = 0.26
normal_enabled = true
normal_scale = 0.03
normal_texture = ExtResource("3_h6uf0")
heightmap_enabled = true
heightmap_scale = 2.455
heightmap_deep_parallax = true
heightmap_min_layers = 8
heightmap_max_layers = 32
uv1_scale = Vector3(0.999, 3, 0.999)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ggxwh"]
albedo_color = Color(0.376471, 0.317647, 0.188235, 1)
albedo_texture = ExtResource("4_fugkv")
uv1_scale = Vector3(8, 8, 8)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lj6kc"]
albedo_color = Color(0.376471, 0.317647, 0.188235, 1)
albedo_texture = ExtResource("4_fugkv")
uv1_scale = Vector3(8, 8, 8)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4l036"]
transparency = 1
albedo_color = Color(0.290196, 0.592157, 0, 0.172549)
metallic = 0.19
roughness = 0.4
emission_enabled = true
emission = Color(0.223529, 0.470588, 0, 1)
emission_energy_multiplier = 1.67
normal_enabled = true
normal_scale = 0.39
normal_texture = ExtResource("12_dcaoy")
uv1_scale = Vector3(0.165, 0.165, 0.165)
uv1_offset = Vector3(0.065, 0, 0)

[sub_resource type="BoxShape3D" id="BoxShape3D_61hog"]
size = Vector3(2.41003, 2.56555, 1.68799)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bhimb"]
shading_mode = 0
albedo_color = Color(0, 0, 0, 1)

[node name="Manor" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ekfaw")

[node name="Entrance" type="Node3D" parent="."]

[node name="FogVolume" type="FogVolume" parent="Entrance"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.193543, -17.2172)
size = Vector3(1.71751, 3.03808, 2.23712)
material = SubResource("FogMaterial_ewdhq")

[node name="Navigation" type="NavigationRegion3D" parent="Entrance"]
navigation_mesh = SubResource("NavigationMesh_on53v")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Entrance/Navigation"]
use_collision = true
collision_layer = 2
collision_mask = 29

[node name="Room" type="CSGCylinder3D" parent="Entrance/Navigation/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
radius = 8.0
height = 33.675
sides = 10
cone = true
material = ExtResource("1_emvfp")

[node name="Main2" type="CSGCylinder3D" parent="Entrance/Navigation/CSGCombiner3D/Room"]
transform = Transform3D(0.95, 0, 0, 0, 0.95, 0, 0, 0, 0.95, 0, 0, 0)
operation = 2
radius = 8.0
height = 33.675
sides = 10
cone = true
material = ExtResource("1_emvfp")

[node name="CSGBox3D" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D/Room/Main2"]
transform = Transform3D(1.05263, 0, 0, 0, -4.6012e-08, 1.05263, 0, -1.05263, -4.6012e-08, 0, -0.749803, 8.4045)
operation = 2
size = Vector3(30, 12.61, 34)
material = ExtResource("1_emvfp")

[node name="CSGBox3D2" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D/Room/Main2"]
transform = Transform3D(1.05263, 0, 0, 0, -4.6012e-08, 1.05263, 0, -1.05263, -4.6012e-08, 0, 1.56436, -4.10544)
operation = 2
size = Vector3(30, 12.61, 4.78)
material = ExtResource("1_emvfp")

[node name="CSGBox3D3" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D/Room"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 12.3399, -3.90016)
operation = 2
size = Vector3(30, 12.61, 26.22)
material = ExtResource("1_emvfp")

[node name="CSGBox3D4" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D/Room"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -0.712313, -6.10725)
operation = 1
size = Vector3(30, 16.925, 34)
material = ExtResource("1_emvfp")

[node name="CSGBox3D5" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D/Room"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -11.6718, 0.161218)
operation = 2
size = Vector3(1.8, 3, 26.22)
material = ExtResource("1_emvfp")

[node name="CSGBox3D6" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D/Room"]
transform = Transform3D(1, 0, 0, 0, -0.974929, 0.222518, 0, -0.222518, -0.974929, 0, -4.18847, -4.57797)
operation = 2
size = Vector3(2, 4.62, 3.16)
material = ExtResource("1_emvfp")

[node name="CSGBox3D" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 3.88094e-08, -1.66665, -8.46556)
size = Vector3(14.52, 0.02, 5.045)
material = SubResource("StandardMaterial3D_cxkvq")

[node name="CSGBox3D7" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D"]
transform = Transform3D(0.939693, 0.34202, 0, -0.34202, 0.939693, 0, 0, 0, 1, -5.68401, 2.78181, -14.594)
size = Vector3(4, 11, 4)
material = SubResource("StandardMaterial3D_ggxwh")

[node name="CSGBox3D8" type="CSGBox3D" parent="Entrance/Navigation/CSGCombiner3D"]
transform = Transform3D(0.939693, -0.34202, 0, 0.34202, 0.939693, 0, 0, 0, 1, 5.684, 2.782, -14.594)
size = Vector3(4, 11, 4)
material = SubResource("StandardMaterial3D_lj6kc")

[node name="Lighting" type="Node3D" parent="Entrance"]

[node name="OmniLight3D" type="OmniLight3D" parent="Entrance/Lighting"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 6.65056, -8.60402)
light_color = Color(1, 0.737255, 0.913725, 1)
light_energy = 0.1
light_specular = 7.0
omni_range = 45.188
omni_attenuation = 0.0583146

[node name="OmniLight3D2" type="OmniLight3D" parent="Entrance/Lighting"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.65817, 6.65056, -8.60402)
light_color = Color(1, 0.737255, 0.913725, 1)
light_energy = 0.1
light_specular = 7.0
omni_range = 45.188
omni_attenuation = 0.0583146

[node name="Window" parent="Entrance" instance=ExtResource("2_yd3ot")]
transform = Transform3D(1, 0, 0, 0, 0.972313, -0.233683, 0, 0.233683, 0.972313, 0, 4.67678, -4.09545)

[node name="SpotLight3D" parent="Entrance/Window" index="2"]
transform = Transform3D(1, 0, 0, 0, -4.47035e-08, 1, 0, -1, -4.47035e-08, 0, 3.25976, 0)

[node name="Light" parent="Entrance/Window/SpotLight3D" index="0"]
transform = Transform3D(0.335, 0, 0, 0, 0.725, 0, 0, 0, 1, 0, 0, 0.012938)

[node name="CSGBox3D" parent="Entrance/Window/SpotLight3D/Light/CSGCylinder3D" index="1"]
transform = Transform3D(0.707107, -2.98023e-08, -0.707107, 1.27907e-08, 1, -1.49012e-08, 0.707107, 0, 0.707107, 4.76837e-07, 2.89624, 0)
size = Vector3(8, 9, 8)

[node name="DoorFrame" parent="Entrance" instance=ExtResource("5_t4kcf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00487614, -0.157166, -0.805041)

[node name="DoorFrame2" parent="Entrance" instance=ExtResource("5_t4kcf")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.00487479, -0.157166, -16.4219)
IsOpen = true

[node name="Furniture" type="Node3D" parent="Entrance"]

[node name="Crate" parent="Entrance/Furniture" instance=ExtResource("7_2itc8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.14486, -1.17589, -7.13133)

[node name="Crate3" parent="Entrance/Furniture" instance=ExtResource("7_2itc8")]
transform = Transform3D(0.649037, 0, -0.760757, 0, 1, 0, 0.760757, 0, 0.649037, 4.14486, -0.193329, -6.42561)

[node name="Crate2" parent="Entrance/Furniture" instance=ExtResource("7_2itc8")]
transform = Transform3D(-0.206734, 0, -0.978397, 0, 1, 0, 0.978397, 0, -0.206734, 3.91407, -1.17589, -6.0579)

[node name="Crate4" parent="Entrance/Furniture" instance=ExtResource("7_2itc8")]
transform = Transform3D(0.934447, 0, 0.356102, 0, 1, 0, -0.356102, 0, 0.934447, -4.33834, -1.17589, -7.11985)

[node name="Crate5" parent="Entrance/Furniture" instance=ExtResource("7_2itc8")]
transform = Transform3D(0.877398, 0, -0.479764, 0, 1, 0, 0.479764, 0, 0.877398, -4.50194, -0.193329, -6.46039)

[node name="Crate6" parent="Entrance/Furniture" instance=ExtResource("7_2itc8")]
transform = Transform3D(0.155228, 0, -0.987879, 0, 1, 0, 0.987879, 0, 0.155228, -4.17175, -1.17589, -6.0346)

[node name="Drawers" parent="Entrance/Furniture" instance=ExtResource("7_0i7wg")]
transform = Transform3D(-0.221225, 0, -0.975223, 0, 1, 0, 0.975223, 0, -0.221225, 4.86148, -1.08697, -9.22737)
IsMimic = false

[node name="Drawers2" parent="Entrance/Furniture" instance=ExtResource("7_0i7wg")]
transform = Transform3D(-0.215162, 0, 0.976579, 0, 1, 0, -0.976579, 0, -0.215162, -3.45578, -1.08697, -3.69622)
IsMimic = false

[node name="Shelf" parent="Entrance/Furniture" instance=ExtResource("9_dmhu6")]
transform = Transform3D(-0.211871, 0, 0.977298, 0, 1, 0, -0.977298, 0, -0.211871, -4.65167, 0.945867, -9.10501)

[node name="Shelf2" parent="Entrance/Furniture" instance=ExtResource("9_dmhu6")]
transform = Transform3D(-0.272247, 0, -0.962228, 0, 1, 0, 0.962228, 0, -0.272247, 3.47, 0.946, -4.822)

[node name="Chandelier" parent="Entrance/Furniture" instance=ExtResource("6_o4tkm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.963, -13.0913)

[node name="Chandelier2" parent="Entrance/Furniture" instance=ExtResource("6_o4tkm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.42198, -7.88503)

[node name="Chest" parent="Entrance/Furniture" instance=ExtResource("10_217ad")]
transform = Transform3D(0.425337, 0, 0.905035, 0, 1, 0, -0.905035, 0, 0.425337, -5.7534, -1.67928, -12.0071)
IsMimic = false

[node name="Exit Sign" type="CSGBox3D" parent="Entrance/Furniture"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.70366, -15.9944)
size = Vector3(0.8, 0.4, 0.1)
material = SubResource("StandardMaterial3D_4l036")

[node name="Label3D" type="Label3D" parent="Entrance/Furniture/Exit Sign"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.015954, 0.0667257)
pixel_size = 0.01
double_sided = false
text = "Exit"
outline_size = 5

[node name="Loot" type="Node3D" parent="Entrance"]

[node name="Key" parent="Entrance/Loot" instance=ExtResource("7_auxh8")]
transform = Transform3D(0.695461, 0, -0.718563, 0, 1, 0, 0.718563, 0, 0.695461, -0.00843869, 4.86097, -12.5587)

[node name="Jewel Blue" parent="Entrance/Loot" instance=ExtResource("12_3sfmf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.31504, -1.55386, -2.9042)

[node name="Jewel Green" parent="Entrance/Loot" instance=ExtResource("13_g3rr2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.89362, -1.55386, -11.4121)

[node name="Jewel Red" parent="Entrance/Loot" instance=ExtResource("14_pavo1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.30237, -1.55386, -6.96917)

[node name="Revelation Eye" parent="Entrance/Loot" instance=ExtResource("16_2krj2")]
transform = Transform3D(-0.406577, 0, 0.913616, 0, 1, 0, -0.913616, 0, -0.406577, -4.90859, -1.50027, -11.206)

[node name="Exit" type="Area3D" parent="Entrance"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.202027, -17.7298)
script = ExtResource("18_bjp5x")
WinningsScene = ExtResource("19_g7s81")
PlayerGroup = "player"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Entrance/Exit"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0438595, -0.147359, -0.328896)
shape = SubResource("BoxShape3D_61hog")

[node name="Box" type="CSGBox3D" parent="Entrance/Exit"]
use_collision = true
collision_layer = 2
size = Vector3(2.65, 3.12, 1.905)
material = SubResource("StandardMaterial3D_bhimb")

[node name="CSGBox3D2" type="CSGBox3D" parent="Entrance/Exit/Box"]
transform = Transform3D(0.95, 0, 0, 0, 0.95, 0, 0, 0, 0.95, 0, 0, 0.454891)
operation = 2
size = Vector3(2.65, 3.12, 1.905)
material = SubResource("StandardMaterial3D_bhimb")

[node name="Box2" type="CSGBox3D" parent="Entrance/Exit"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.09302)
use_collision = true
collision_layer = 0
collision_mask = 12
size = Vector3(2.65, 3.12, 0.785)
material = SubResource("StandardMaterial3D_bhimb")

[node name="Hallway" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.0178013, 0.999842, 0, -0.999842, 0.0178013, 2.38419e-07, 2.60472, -7.49793)
light_color = Color(0.235294, 0.631373, 0.847059, 1)
light_energy = 0.0
shadow_transmittance_bias = 14.415
sky_mode = 1

[node name="Thief" parent="." instance=ExtResource("1_5i2il")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.619, -14.8955)

[connection signal="body_entered" from="Entrance/Exit" to="Entrance/Exit" method="OnExiting"]

[editable path="Entrance/Window"]
