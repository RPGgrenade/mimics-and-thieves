[gd_scene load_steps=25 format=3 uid="uid://ddx5ikc2wmrsy"]

[ext_resource type="Script" path="res://Scripts/Relics/Relic.cs" id="1_2eyl3"]
[ext_resource type="Resource" uid="uid://caqdcofdlj85k" path="res://Resources/Relics/Crystal Ball.tres" id="2_fv4a8"]
[ext_resource type="Texture2D" uid="uid://peekdalaucn8" path="res://Textures/Materials/wood.jpg" id="3_0dm3h"]
[ext_resource type="Script" path="res://Scripts/Relics/Effects/ProtectEffect.cs" id="3_jbqg8"]
[ext_resource type="Texture2D" uid="uid://dq6ixv2s0gfw3" path="res://Textures/Materials/wood_n.jpg" id="4_4q5nl"]
[ext_resource type="PackedScene" uid="uid://cjc3j73ciw2fh" path="res://Prefabs/Thief/protective_barrier.tscn" id="4_v8otp"]
[ext_resource type="Script" path="res://Scripts/Glow.cs" id="5_ndwwd"]
[ext_resource type="Material" uid="uid://2l53ugu5c5tw" path="res://Shaders/Materials/Glow.tres" id="6_bc7mk"]
[ext_resource type="Script" path="res://Scripts/SoundManager.cs" id="7_fr8kr"]
[ext_resource type="Script" path="res://Scripts/RandomSound.cs" id="8_wmnv8"]
[ext_resource type="Script" path="res://Scripts/RandomSoundGroup.cs" id="9_ljdbr"]

[sub_resource type="SphereShape3D" id="SphereShape3D_h7436"]
radius = 0.172818

[sub_resource type="CylinderShape3D" id="CylinderShape3D_l7ayi"]
height = 0.06
radius = 0.16

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wm75o"]
transparency = 1
diffuse_mode = 3
specular_mode = 1
albedo_color = Color(0.262745, 0.780392, 0.843137, 0.164706)
metallic = 0.5
roughness = 0.11
emission_enabled = true
emission = Color(0.392157, 0.776471, 0.854902, 1)
emission_energy_multiplier = 0.1
normal_scale = 0.2
clearcoat_enabled = true
clearcoat_roughness = 0.44
backlight = Color(0.54902, 0.321569, 0.239216, 1)
refraction_enabled = true
refraction_scale = 0.02

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uguu4"]
albedo_color = Color(0.411765, 0.27451, 0.12549, 1)
albedo_texture = ExtResource("3_0dm3h")
metallic = 0.51
metallic_specular = 0.3
roughness = 0.6
normal_enabled = true
normal_scale = 0.27
normal_texture = ExtResource("4_4q5nl")

[sub_resource type="AudioStreamPolyphonic" id="AudioStreamPolyphonic_k0gv2"]

[sub_resource type="Resource" id="Resource_76rnk"]
script = ExtResource("8_wmnv8")
Weight = 1.0

[sub_resource type="Resource" id="Resource_o2k08"]
resource_name = "Use"
script = ExtResource("9_ljdbr")
Name = "Use"
Sounds = Array[Object]([SubResource("Resource_76rnk")])

[sub_resource type="Resource" id="Resource_roj5q"]
script = ExtResource("8_wmnv8")
Weight = 1.0

[sub_resource type="Resource" id="Resource_efuyy"]
resource_name = "Grab"
script = ExtResource("9_ljdbr")
Name = "Grab"
Sounds = Array[Object]([SubResource("Resource_roj5q")])

[sub_resource type="Resource" id="Resource_sfr58"]
script = ExtResource("8_wmnv8")
Weight = 1.0

[sub_resource type="Resource" id="Resource_qqw1t"]
resource_name = "Break"
script = ExtResource("9_ljdbr")
Name = "Break"
Sounds = Array[Object]([SubResource("Resource_sfr58")])

[sub_resource type="Resource" id="Resource_d5gy7"]
script = ExtResource("8_wmnv8")
Weight = 1.0

[sub_resource type="Resource" id="Resource_y4gmc"]
resource_name = "Collide"
script = ExtResource("9_ljdbr")
Name = "Collide"
Sounds = Array[Object]([SubResource("Resource_d5gy7")])

[node name="Crystal Ball" type="CharacterBody3D" node_paths=PackedStringArray("effect", "Manager") groups=["Relic"]]
collision_layer = 8
collision_mask = 6
slide_on_ceiling = false
script = ExtResource("1_2eyl3")
loot = ExtResource("2_fv4a8")
effect = NodePath("Magic")
Friction = 0.1
FrictionLimit = 0.9
RotationSpeed = 0.5
BounceAmount = 0.6
BounceThreshold = 1.0
Gravity = 11.0
Manager = NodePath("Sounds")

[node name="Magic" type="Node3D" parent="."]
script = ExtResource("3_jbqg8")
Barrier = ExtResource("4_v8otp")
EffectGroup = "player"
ExcludeEffectGroup = "balloon"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_h7436")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.184826, 0)
shape = SubResource("CylinderShape3D_l7ayi")

[node name="Model" type="Node3D" parent="."]

[node name="CSGBox3D" type="CSGSphere3D" parent="Model"]
radius = 0.17
radial_segments = 8
material = SubResource("StandardMaterial3D_wm75o")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="Model/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.135737, 0)
radius = 0.16
height = 0.158
sides = 12
cone = true
material = SubResource("StandardMaterial3D_uguu4")

[node name="Glow" type="Node3D" parent="."]
script = ExtResource("5_ndwwd")

[node name="CSGBox3D2" type="CSGSphere3D" parent="Glow"]
radius = 0.17
radial_segments = 8
material = ExtResource("6_bc7mk")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="Glow/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0995157, 0)
radius = 0.16
height = 0.158
sides = 12
cone = true
material = ExtResource("6_bc7mk")

[node name="Sounds" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamPolyphonic_k0gv2")
autoplay = true
script = ExtResource("7_fr8kr")
Sounds = Array[Object]([SubResource("Resource_o2k08"), SubResource("Resource_efuyy"), SubResource("Resource_qqw1t"), SubResource("Resource_y4gmc")])
